(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{447:function(t,e,r){var content=r(502);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(67).default)("53f58df0",content,!0,{sourceMap:!1})},501:function(t,e,r){"use strict";r(447)},502:function(t,e,r){var n=r(66)(!1);n.push([t.i,".echarts[data-v-4e08177a],.image[data-v-4e08177a]{width:100%}.echarts[data-v-4e08177a]{height:477px}",""]),t.exports=n},580:function(t,e,r){"use strict";r.r(e);var n=r(4),o=(r(49),r(50),r(250),r(42),r(505),r(412)),l=r(579),d=(r(578),r(577),r(582),{components:{"v-chart":l.a},props:["person","period","show"],watch:{person:function(t,e){this.requestData()},period:function(t,e){this.date=this.period,this.requestData()}},data:function(){return{url:"/api/absensi",date:null,loading:!1,tableData:[],prodPercentAvg:0,prodHourAvg:0,chartOption:{tooltip:{trigger:"axis"},grid:{bottom:"30px",containLabel:!0},title:{text:"GRAFIK PRODUKTIFITAS PEGAWAI",x:"center"},xAxis:{type:"category",boundaryGap:!0,data:[]},yAxis:{type:"value",name:"Jam Kerja"},series:[{type:"line",name:"Jam Kerja",label:{show:!0,position:"top",formatter:function(t){var e=t.name.split("\n")[0],r=5===this.$moment(e).day()?7:8;return t.value+" jam\n"+(t.value/r*100).toFixed(2)+"%"}},data:[]}]}}},methods:{requestData:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading=!0,e.next=3,t.$axios.$get(t.url,{params:{date:t.date,pin:t.person.pin}});case 3:t.tableData=e.sent,t.loading=!1;case 5:case"end":return e.stop()}}),e)})))()},exportData:function(t){var e=this;return Object(n.a)(regeneratorRuntime.mark((function r(){var data;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return e.loading=!0,r.next=3,e.$axios.$get(e.url,{params:{date:e.date,pin:e.person.pin}});case 3:data=r.sent,Object(o.a)({data:data,fileName:t,exportType:"xls"}),e.loading=!1;case 6:case"end":return r.stop()}}),r)})))()}}}),c=(r(501),r(22)),component=Object(c.a)(d,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("el-dialog",{attrs:{visible:t.show,width:"95%",center:"",title:"DETAIL ABSENSI","before-close":function(e){return t.$emit("close")}},on:{"update:visible":function(e){t.show=e}}},[r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:6}},[r("el-card",{attrs:{"body-style":{padding:"14px"}}},[r("img",{staticClass:"image",attrs:{src:t.person.photo_path}}),t._v(" "),r("div",{staticClass:"text-center",staticStyle:{padding:"14px"}},[r("h4",{staticStyle:{"margin-bottom":"2px"}},[t._v("\n\t\t\t\t\t\t"+t._s(t.person.name)+" "+t._s(t.person.last_name)+"\n\t\t\t\t\t")]),t._v(" "),r("span",{staticStyle:{"font-size":"1.5em"}},[t._v(t._s(t.person.pin))]),r("br"),t._v(" "),r("span",[t._v("Dep. :\n\t\t\t\t\t\t"+t._s(t.person.department?t.person.department.name:""))]),t._v(" "),r("h4",{staticClass:"text-center",staticStyle:{"border-top":"1px solid #ddd","border-bottom":"1px solid #ddd",padding:"20px 0"}},[t._v("\n\t\t\t\t\t\tPRODUKTIFITAS RATA - RATA\n\t\t\t\t\t")]),t._v(" "),r("div",{class:["text-center",t.prodPercentAvg>=90?"text-success":t.prodPercentAvg>=60?"text-warning":"text-danger"]},[r("el-row",[r("el-col",{staticStyle:{"border-right":"1px solid #eee"},attrs:{span:12}},[r("h2",[t._v(t._s(t.prodHourAvg)+" jam")])]),t._v(" "),r("el-col",{attrs:{span:12}},[r("h2",[t._v(t._s(t.prodPercentAvg)+"%")])])],1)],1)])])],1),t._v(" "),r("el-col",{attrs:{span:18}},[r("v-chart",{staticClass:"echarts",attrs:{options:t.chartOption}})],1)],1),t._v(" "),r("el-form",{staticStyle:{float:"right",clear:"both"},attrs:{inline:""}},[r("el-form-item",[r("el-date-picker",{staticStyle:{width:"280px","margin-top":"5px"},attrs:{type:"daterange","value-format":"yyyy-MM-dd",format:"dd/MMM/yyyy","range-separator":"-","start-placeholder":"Dari Tanggal","end-placeholder":"Sampai Tanggal",size:"small"},on:{change:t.requestData},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1),t._v(" "),r("el-form-item",[r("el-button",{attrs:{size:"small",icon:"el-icon-download",type:"primary"},on:{click:t.exportData}},[t._v("\n\t\t\t\tEXPORT KE EXCEL\n\t\t\t")])],1)],1),t._v(" "),r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{stripe:"",data:t.tableData}},[r("el-table-column",{attrs:{type:"index",width:"50",label:"#"}}),t._v(" "),r("el-table-column",{attrs:{prop:"att_date",label:"Tanggal",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n\t\t\t\t"+t._s(t.$moment(e.row.att_date).format("DD/MMM/YYYY"))+" "),r("br"),t._v("\n\t\t\t\t"+t._s(t.$moment(e.row.att_date).format("dddd"))+"\n\t\t\t")]}}])}),t._v(" "),r("el-table-column",{attrs:{prop:"first_in",label:"Masuk",sortable:""}}),t._v(" "),r("el-table-column",{attrs:{label:"Jam Istirahat",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;return[t._v("\n\t\t\t\t"+t._s(n.rest_start)+" - "+t._s(n.rest_end)+" "),r("br")]}}])}),t._v(" "),r("el-table-column",{attrs:{label:"Durasi Istirahat",prop:"rest_duration",sortable:""}}),t._v(" "),r("el-table-column",{attrs:{prop:"last_out",label:"Pulang",sortable:""}}),t._v(" "),r("el-table-column",{attrs:{prop:"work_duration",label:"Jam Kerja Efektif",sortable:""}}),t._v(" "),r("el-table-column",{attrs:{prop:"percentage",label:"%",sortable:"",align:"right","header-align":"right"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.row;return[t._v("\n\t\t\t\t"+t._s(r.percentage.toFixed(2))+"\n\t\t\t")]}}])})],1)],1)}),[],!1,null,"4e08177a",null);e.default=component.exports}}]);